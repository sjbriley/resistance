{% extends 'base.html' %}

{% block page_title %}My Account{% endblock %}


{% block input_box %}

<div class="lead" id="customLink">
    <div id="leadCustom">
        Welcome, {{ data.full_name }}
    </div>
</div>



<div id="show_table">
<div class="col-md-4" style="float: none;margin: 0 auto;">
    <div class="leadCustom">
        <table class="table" id="tableCustom" style="background-color:white;">
            <tbody class="sortable-theme-dark" data-sortable>
                <tr><td>Games Played</td><td>{{ data.gamesPlayed }}</td></tr>
                <tr><td>Wins</td><td>{{ data.wins }}</td></tr>
                <tr><td>Losses</td><td>{{ data.losses }}</td></tr>
                <tr><td>Win %</td><td>{{ data.winPercentage }}%</td></tr>
                <tr><td>Resistance Wins</td><td>{{ data.resistanceWins }}</td></tr>
                <tr><td>Ppy Wins</td><td>{{ data.spyWins }}</td></tr>
                <tr><td>Resistance Losses</td><td>{{ data.resistanceLosses }}</td></tr>
                <tr><td>Spy Losses</td><td>{{ data.spyLosses }}</td></tr>
                <tr><td>Jester Wins</td><td>{{ data.jesterWins }}</td></tr>
                <tr><td>Puck Wins</td><td>{{ data.puckWins }}</td></tr>
                <tr><td>Lancelot Wins</td><td>{{ data.lancelotWins }}</td></tr>
                <tr><td>Merlin Wins</td><td>{{ data.merlinWins }}</td></tr>
            </tbody>
        </table>
    </div>
</div>
</div>



<div id="change_name" style="display:none;">
    <form action="{% url 'my_account' %}" method='POST'>
        {% csrf_token %}
        <br>
        <div class="form-control">
            <div class="lead">
                Change my name<br>
                <div class="row">
                    <span class="col-md-4" style="float:none;margin:auto;">{{ form.first_name }}</span>
                    </span>
                </div><br>
                <div class="row">
                    <span class="col-md-4" style="float:none;margin:auto;">{{ form.last_name }}</span>
                    </span>
                </div>
            </div>
        </div><br>
        {% if form.errors %}
            <div style="color:red;">{{ form.errors }}</div>
        {% endif %}
        {% if userError %}
            <div style="color:red;">{{ userError }}</div>
        {% endif %}
        <button type="submit" class="btn btn-dark btn-lg btn-block" style="width:250px; margin-top:4%;">Submit Change</button>
    </form>
    <br>
</div>


<!-- mobile -->
<span class="d-block d-lg-none">
<div class="lead">
    <button id="change_name_button" onclick = "click_me()" class="btn btn-primary btn-md">Change My Display Name</button>
</div>
</span>

<div class="lead" id="customLink">
    <div id="leadCustom">
        <br><a href="{% url 'logout' %}">Log out</a>
    </div>
</div>



<!-- desktop -->
<span class="d-none d-lg-block">
    <div style="position: absolute; left:1%; top:1%;">
        <button id="change_name_button2" onclick = "click_me2()" class="btn btn-primary btn-lg">Change My Display Name</button>
    </div>
</span>

{% endblock %}

{% block javascript %}
{{ block.super }}
{% load static %}
<script src='{% static "online/javascript/my_account.js" %}'></script>
{% endblock javascript %}
